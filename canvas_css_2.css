/* ========================================
    Theme variables
======================================== */
:root {
    --surface: #23222b;           /* main containers */
    --surface-2: #1c1b22;         /* header / elevated */
    --text: rgb(251, 251, 254);
    --info: #84c6ff;
    --primary: #00cadb;
    --primary-hover: #39d0e0;     /* darker than #61dce9 for better contrast */
    --primary-active: #1ab7c5;    /* avoid very light active for contrast */
    --active-hover-background: #18343c;
    --hover-background: #3a3944;
    --muted: #b9b8c4;
}

html {
    color-scheme: dark;
}


/*
with-left-side
course-menu-expanded
with-right-side
padless-content
pages
home
primary-nav-transitions
context-course_9401
responsive_student_grades_page
ff
no-touch
show
*/


/* Scope everything to Canvas app shell to avoid collateral effects */
body {
    background-color: var(--surface);
    color: var(--text);
}

/* ========================================
Links
======================================== */
body a {
    & { /* Styles for all links */
        color: var(--primary);
        text-decoration: none !important;
        &:hover {
            background-color: var(--hover-background);
        }
    }
    &:active { /* Styles for active links */
        color: var(--primary-active);
        &:hover {
            background-color: var(--active-hover-background);
        }
    }
}

/* Visible keyboard focus for interactive controls */
body :where(a, button, [role="button"], .btn):focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
}

/* ========================================
Buttons
======================================== */
body .btn {
    color: var(--text);
    background-color: var(--hover-background);
    border: 1px solid rgba(255,255,255,0.12);
    transition: background-color 120ms ease, border-color 120ms ease, color 120ms ease;

    &:hover {
        background-color: var(--active-hover-background);
        border-color: rgba(255,255,255,0.24);
    }
    &:active {
        background-color: #123038;
        border-color: rgba(255,255,255,0.32);
    }
}

/* ========================================
    Global Header
    To select courses, calander, etc.
======================================== */
body #header {
    background-color: var(--surface-2);

    /* Prefer currentColor for icons; set color on link, not svg fill */
    & a.ic-app-header__menu-list-link {
        color: var(--text);
        background-color: transparent; /* keep explicit */
        transition: background-color 120ms ease, color 120ms ease;
    }

    /* All list elements */
    & li.ic-app-header__menu-list-item {
        & li.ic-app-header__menu-list-item:hover {
            background-color: var(--hover-background);
        }
        /* If icons don't inherit color, as a fallback: */
        & a div svg {
            fill: currentColor;
        }
    }
    /* Active list element (Site that the user is currently in) */
    & li.ic-app-header__menu-list-item--active {
        & a.ic-app-header__menu-list-link {
            color: var(--primary-active);
        }
        &:hover {
            background-color: var(--active-hover-background);
        }
    }
    /* Hide specific navbar items */
    & #global_nav_conversations_link,
    & #global_nav_history_link,
    & #context_external_tool_262_menu_item,
    & div.ic-app-header__secondary-navigation #primaryNavToggle {
        display: none !important;
    }
}

/* ========================================
Course Navbar (left)
======================================== */
body[class*="context-course_"] #sticky-container a {
    color: var(--text);
    transition: background-color 120ms ease, color 120ms ease;
    text-decoration: none;

    &:hover {
        background-color: var(--hover-background);
    }
    &.active {
        color: var(--primary-active);
    }
    &.active:hover {
        background-color: var(--active-hover-background);
    }
}

/* ========================================
    Course Pages
======================================== */

/* Course Home Page */
body[class*="context-course_"].home {
    & .course-title { color: var(--text); }
    & .sticky-toolbar.header-bar { background-color: var(--surface) !important; color: var(--text) !important; }
    /* To Do planner on the right side */
    & #planner-todosidebar-item-list {
        color: var(--text);
        a.css-qiahew-view-link {
            color: var()
        }
    }
    & #breadcrumbs {
        background-color: inherit !important;
        color: inherit !important;
    }
}

/* Badge: keep readable or intentionally hide */
body[class*="context-course_"] .nav-badge {
    background-color: var(--hover-background);
    color: var(--text);
    border-radius: 9999px;
    padding: 0 0.5em;
    font-weight: 600;
}

/* Modules */
body[class*="context-course_"] .item-group-container {
    background-color: var(--surface);
}

/* Optional removals (keep as-is if you really want them gone) */
body[class*="context-course_"] .module-sequence-footer,
body[class*="context-course_"] #immersive_reader_mount_point {
    display: none !important;
}

/* ========================================
    Motion preferences
======================================== */
@media (prefers-reduced-motion: reduce) {
    * { transition: none !important; animation: none !important; }
}
